import React, { useState } from 'react';

export default function SeatSelection() {
  const rows = ['A', 'B', 'C', 'D', 'E'];
  const cols = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

  const unavailableSeats = new Set(['A1', 'A2', 'B5', 'C7']);
  const [selectedSeats, setSelectedSeats] = useState(new Set());

  const toggleSeatSelection = (seat) => {
    const newSelectedSeats = new Set(selectedSeats);
    if (newSelectedSeats.has(seat)) {
      newSelectedSeats.delete(seat);
    } else {
      newSelectedSeats.add(seat);
    }
    setSelectedSeats(newSelectedSeats);
  };

  return (
    <div className="p-4 bg-gray-100 rounded-lg w-fit mx-auto shadow-md">
      {rows.map((row) => (
        <div key={row} className="flex gap-2 mb-2">
          {cols.map((col) => {
            const seat = `${row}${col}`;
            const isUnavailable = unavailableSeats.has(seat);
            const isSelected = selectedSeats.has(seat);
            return (
              <div
                key={seat}
                className={`w-12 h-12 flex items-center justify-center text-sm font-semibold rounded-lg border-2 cursor-pointer
                  ${isUnavailable ? 'bg-red-500 text-white cursor-not-allowed' : ''}
                  ${isSelected ? 'bg-green-500 text-white' : 'bg-gray-200'}
                `}
                onClick={() => !isUnavailable && toggleSeatSelection(seat)}
              >
                {seat}
              </div>
            );
          })}
        </div>
      ))}
    </div>
  );
}
